<section class="login-account">
    <h1 class="login-account__title">Login</h1>

    <form class="login-account__rendered-form" action="/api/v1/auth/login" method="POST">
        <div class="login-account__field-username">
            <label for="username">
                Username
                <span class="login-account__formbuilder-required">*</span>
            </label>
            <input
                type="text"
                autocomplete="username"
                class="login-account__input-username"
                name="username"
                access="false"
                id="username"
                required="required"
                aria-required="true"
                aria-label="Username"
            />
        </div>
        <div class="login-account__field-password">
            <label for="password">
                Password
                <span class="login-account__formbuilder-required">*</span>
            </label>
            <input
                type="password"
                autocomplete="password"
                class="login-account__input-password"
                name="password"
                access="false"
                id="password"
                required="required"
                aria-required="true"
                aria-label="Password"
            />
        </div>
        <div class="login-account__field">
            <button
                type="submit"
                class="login-account__button-submit"
                name="login-account__button-submit"
                access="false"
                id="login-account__button-submit"
                aria-label="Sign In"
            >
                Login
            </button>
            <% if (errorMessage) { %>
                <span id="error-message" role="alert" style="color: red; display: block; margin-top: 1rem"><%= errorMessage %></span>
            <% } %>
        </div>
    </form>

    <span class="login-account__register">
        <p class="login-account__register-text">Don't have an account?</p>
        <a href="/auth/register" class="login-account__register-link">Register</a>
    </span>
</section>
<script>
    const formEl = document.querySelector(".login-account__rendered-form");
    const buttonEl = document.getElementById("login-account__button-submit");

    formEl.addEventListener('submit', function() {
        buttonEl.setAttribute("disabled", true)
        buttonEl.textContent = 'Loading...';
    });
</script>
